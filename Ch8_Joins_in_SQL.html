<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ch8 — Joins in SQL</title>
<style>
:root{--primary:#e74c3c;--accent:#27ae60;--blue:#2980b9;--orange:#e67e22;--purple:#8e44ad;--teal:#16a085;--dark:#0d0d0d;--card:#1a1a1a;--card2:#1e1e1e;--text:#e8e8e8;--muted:#999;--border:rgba(231,76,60,.22);--glow:0 0 30px rgba(231,76,60,.25);}
*{margin:0;padding:0;box-sizing:border-box;}html{scroll-behavior:smooth;}
body{background:var(--dark);color:var(--text);font-family:'Segoe UI',system-ui,sans-serif;overflow-x:hidden;}
::-webkit-scrollbar{width:6px;}::-webkit-scrollbar-track{background:var(--dark);}::-webkit-scrollbar-thumb{background:var(--primary);border-radius:3px;}
button{cursor:pointer;border:none;background:none;color:inherit;font:inherit;}
nav{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(13,13,13,.95);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);height:54px;display:flex;align-items:center;padding:0 1.5rem;gap:.45rem;overflow-x:auto;}
nav::-webkit-scrollbar{height:0;}.logo{color:var(--primary);font-size:.9rem;font-weight:800;margin-right:auto;white-space:nowrap;}
nav a{color:var(--muted);text-decoration:none;font-size:.66rem;font-weight:600;letter-spacing:.04em;text-transform:uppercase;white-space:nowrap;padding:.25rem .5rem;border-radius:6px;transition:.2s;}
nav a:hover{color:#fff;background:rgba(231,76,60,.18);}
#pb{position:fixed;top:54px;left:0;height:3px;background:linear-gradient(90deg,var(--primary),var(--orange));width:0%;z-index:999;transition:width .1s;}
section{padding:90px 2rem 70px;max-width:1100px;margin:0 auto;}
.sec-label{font-size:.65rem;letter-spacing:.15em;text-transform:uppercase;color:var(--primary);font-weight:700;margin-bottom:.4rem;}
h2{font-size:clamp(1.2rem,3vw,1.8rem);font-weight:700;}h3{font-size:.95rem;font-weight:700;color:var(--primary);}
p{line-height:1.75;color:#b8b8b8;}
.fi{opacity:0;transform:translateY(20px);transition:opacity .6s,transform .6s;}.fi.v{opacity:1;transform:translateY(0);}
.badge{display:inline-flex;align-items:center;gap:.5rem;background:rgba(231,76,60,.12);border:1px solid var(--border);color:var(--primary);padding:.35rem 1rem;border-radius:999px;font-size:.76rem;font-weight:600;margin-bottom:1.5rem;}
.blob{position:absolute;border-radius:50%;filter:blur(80px);pointer-events:none;z-index:-1;}
.b1{width:400px;height:400px;background:rgba(231,76,60,.07);top:-100px;right:-80px;animation:float 8s ease-in-out infinite;}
.b2{width:300px;height:300px;background:rgba(39,174,96,.05);bottom:60px;left:-80px;animation:float 10s ease-in-out infinite reverse;}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
.btns{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:1.5rem;}
.btn{display:inline-flex;align-items:center;gap:.5rem;background:var(--primary);color:#fff;padding:.65rem 1.4rem;border-radius:10px;font-weight:700;font-size:.88rem;cursor:pointer;transition:transform .2s,box-shadow .2s;text-decoration:none;}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(231,76,60,.4);}
.btn-o{background:transparent;border:2px solid var(--primary);color:var(--primary);}
.btn-o:hover{background:var(--primary);color:#fff;}
.hero-stats{display:flex;gap:2rem;flex-wrap:wrap;margin-top:2rem;}
.hs .n{font-size:1.8rem;font-weight:800;color:var(--primary);}.hs .l{font-size:.65rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:1.5rem;transition:transform .25s,box-shadow .25s;}
.card:hover{transform:translateY(-3px);box-shadow:var(--glow);}
.g2{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-top:1.5rem;}
.g3{display:grid;grid-template-columns:repeat(auto-fit,minmax(210px,1fr));gap:1.2rem;margin-top:1.2rem;}
.g4{display:grid;grid-template-columns:repeat(auto-fit,minmax(175px,1fr));gap:1rem;margin-top:1rem;}
.hbox{background:rgba(231,76,60,.08);border:1px solid rgba(231,76,60,.3);border-radius:12px;padding:1.1rem 1.3rem;margin:.8rem 0;}
.hbox.green{background:rgba(39,174,96,.08);border-color:rgba(39,174,96,.3);}
.hbox.blue{background:rgba(41,128,185,.08);border-color:rgba(41,128,185,.3);}
.hbox.orange{background:rgba(230,126,34,.08);border-color:rgba(230,126,34,.3);}
.hbox.purple{background:rgba(142,68,173,.08);border-color:rgba(142,68,173,.3);}
.hbox.teal{background:rgba(22,160,133,.08);border-color:rgba(22,160,133,.3);}
.hbox.yellow{background:rgba(241,196,15,.06);border-color:rgba(241,196,15,.3);}
.hbox p,.hbox li{color:#d0d0e0;}.hbox strong{color:var(--primary);}
.hbox.green strong{color:var(--accent);}.hbox.blue strong{color:#5dade2;}.hbox.orange strong{color:var(--orange);}
.hbox.purple strong{color:#c39bd3;}.hbox.teal strong{color:#48c9b0;}.hbox.yellow strong{color:#f9e04b;}
.code-block{background:#111;border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:.9rem 1.2rem;font-family:'Courier New',monospace;font-size:.78rem;color:#87ceeb;margin:.6rem 0;overflow-x:auto;line-height:1.8;white-space:pre;}
.kw{color:#e74c3c;font-weight:700;}.fn{color:#3498db;}.val{color:#82e0aa;}.cm{color:#555;font-style:italic;}.hl{background:rgba(241,196,15,.15);color:#f9e04b;border-radius:3px;padding:0 2px;}
.tb{color:#f39c12;font-style:italic;}.cl{color:#3498db;}
.demo-table{border-collapse:collapse;font-size:.8rem;margin:.7rem 0;width:100%;}
.demo-table th{padding:.5rem .8rem;text-align:left;font-size:.7rem;text-transform:uppercase;letter-spacing:.06em;border-bottom:2px solid rgba(255,255,255,.1);background:rgba(231,76,60,.1);color:var(--primary);}
.demo-table td{padding:.45rem .8rem;border-bottom:1px solid rgba(255,255,255,.04);color:#c0c0d0;font-family:monospace;font-size:.78rem;}
.demo-table tr:hover td{background:rgba(255,255,255,.02);}
.null-cell{background:rgba(241,196,15,.15) !important;color:#f9e04b !important;font-weight:700;}
.hl-row td{background:rgba(231,76,60,.07) !important;}
.tbl-wrap{overflow-x:auto;margin:.5rem 0;}
.diff-table{width:100%;border-collapse:collapse;font-size:.8rem;}
.diff-table th{padding:.5rem .8rem;text-align:left;background:rgba(231,76,60,.1);color:var(--primary);font-size:.7rem;text-transform:uppercase;}
.diff-table td{padding:.45rem .8rem;border-bottom:1px solid rgba(255,255,255,.04);color:#c0c0d0;}
.diff-table tr:nth-child(even) td{background:rgba(255,255,255,.02);}
/* TABS */
.a-tabs{display:flex;gap:.4rem;flex-wrap:wrap;margin:1rem 0 .5rem;}
.a-tab{padding:.35rem .85rem;border-radius:8px;font-size:.72rem;font-weight:700;cursor:pointer;border:1px solid rgba(255,255,255,.1);color:var(--muted);transition:.2s;}
.a-tab.on,.a-tab:hover{background:var(--primary);color:#fff;border-color:var(--primary);}
.a-panel{display:none;}.a-panel.on{display:block;}
/* EXAMPLE BLOCK */
.eg{background:var(--card2);border-radius:12px;padding:1.2rem 1.4rem;margin:.8rem 0;border:1px solid rgba(255,255,255,.06);}
.eg-lbl{font-size:.6rem;text-transform:uppercase;letter-spacing:.1em;color:var(--orange);font-weight:700;margin-bottom:.3rem;}
.eg-desc{font-size:.82rem;color:#b8b8b8;margin-bottom:.6rem;line-height:1.5;}
.note{background:rgba(241,196,15,.06);border:1px solid rgba(241,196,15,.2);border-left:3px solid #f9e04b;border-radius:8px;padding:.7rem 1rem;font-size:.79rem;color:#f9e04b;margin:.6rem 0;line-height:1.5;}
/* GOTCHA */
.gotcha{background:rgba(231,76,60,.06);border:1px solid rgba(231,76,60,.25);border-left:3px solid var(--primary);border-radius:8px;padding:.7rem 1rem;font-size:.79rem;color:#f5b7b1;margin:.6rem 0;line-height:1.5;}
.gotcha strong{color:var(--primary);}
/* VENN DIAGRAMS - CSS */
.venn-wrap{display:flex;justify-content:center;align-items:center;margin:1.2rem 0;gap:1.5rem;flex-wrap:wrap;}
.venn{position:relative;width:200px;height:130px;}
.venn-l,.venn-r{width:110px;height:110px;border-radius:50%;position:absolute;top:10px;border:2px solid;}
.venn-l{left:0;border-color:var(--blue);background:rgba(41,128,185,.08);}
.venn-r{left:65px;border-color:var(--orange);background:rgba(230,126,34,.08);}
.venn-label{font-size:.6rem;color:var(--muted);text-align:center;position:absolute;bottom:-5px;font-weight:600;}
.venn-ll{left:20px;}.venn-rl{right:0px;}
.venn-hl{position:absolute;border-radius:50%;z-index:1;}
/* PREDICT THE OUTPUT */
.pto{background:var(--card);border:2px dashed rgba(231,76,60,.3);border-radius:16px;padding:1.5rem;margin:1rem 0;position:relative;}
.pto-badge{display:inline-block;background:rgba(231,76,60,.2);color:var(--primary);font-size:.6rem;font-weight:800;text-transform:uppercase;letter-spacing:.1em;padding:.2rem .7rem;border-radius:999px;margin-bottom:.8rem;}
.pto-q{font-size:.92rem;font-weight:600;margin-bottom:.6rem;color:var(--text);}
.pto-hint{font-size:.72rem;color:var(--muted);margin:.5rem 0;font-style:italic;}
.pto-reveal{display:none;margin-top:1rem;padding:1rem;background:rgba(39,174,96,.08);border:1px solid rgba(39,174,96,.3);border-radius:10px;}
.pto-reveal.show{display:block;}
.pto-btn{background:var(--accent);color:#fff;padding:.5rem 1.2rem;border-radius:8px;font-weight:700;font-size:.78rem;cursor:pointer;transition:.2s;border:none;margin-top:.5rem;}
.pto-btn:hover{transform:translateY(-1px);box-shadow:0 4px 15px rgba(39,174,96,.4);}
.pto-btn.revealed{background:var(--muted);cursor:default;}
/* WRITE THE QUERY */
.wtq{background:var(--card);border:2px dashed rgba(41,128,185,.3);border-radius:16px;padding:1.5rem;margin:1rem 0;}
.wtq-badge{display:inline-block;background:rgba(41,128,185,.2);color:#5dade2;font-size:.6rem;font-weight:800;text-transform:uppercase;letter-spacing:.1em;padding:.2rem .7rem;border-radius:999px;margin-bottom:.8rem;}
.wtq-q{font-size:.92rem;font-weight:600;margin-bottom:.4rem;color:var(--text);}
.wtq-hint{font-size:.72rem;color:var(--muted);margin:.3rem 0 .5rem;font-style:italic;}
.wtq-reveal{display:none;margin-top:1rem;padding:1rem;background:rgba(41,128,185,.08);border:1px solid rgba(41,128,185,.3);border-radius:10px;}
.wtq-reveal.show{display:block;}
.wtq-btn{background:var(--blue);color:#fff;padding:.5rem 1.2rem;border-radius:8px;font-weight:700;font-size:.78rem;cursor:pointer;transition:.2s;border:none;margin-top:.5rem;}
.wtq-btn:hover{transform:translateY(-1px);box-shadow:0 4px 15px rgba(41,128,185,.4);}
/* STEP-BY-STEP */
.step-box{background:var(--card2);border-radius:12px;padding:1rem;margin:.5rem 0;border-left:3px solid var(--teal);}
.step-num{display:inline-block;background:var(--teal);color:#fff;width:22px;height:22px;border-radius:50%;text-align:center;line-height:22px;font-size:.68rem;font-weight:800;margin-right:.5rem;}
.step-box p{font-size:.82rem;margin-top:.3rem;}
/* FLIP CARDS */
.fc-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:1.2rem;margin-top:1.5rem;}
.fc{height:175px;perspective:900px;cursor:pointer;}
.fc-in{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .55s cubic-bezier(.4,0,.2,1);}
.fc.flipped .fc-in{transform:rotateY(180deg);}
.fc-fr,.fc-bk{position:absolute;inset:0;backface-visibility:hidden;border-radius:14px;padding:1rem;display:flex;flex-direction:column;justify-content:center;}
.fc-fr{background:var(--card2);border:1px solid var(--border);}
.fc-bk{background:rgba(231,76,60,.1);border:1px solid rgba(231,76,60,.3);transform:rotateY(180deg);}
.fc-tag{font-size:.6rem;font-weight:800;text-transform:uppercase;letter-spacing:.08em;color:var(--primary);margin-bottom:.4rem;}
.fc-q{font-size:.82rem;font-weight:700;color:var(--text);line-height:1.4;}
.fc-hint{font-size:.6rem;color:var(--muted);margin-top:.5rem;}
.fc-a{font-size:.77rem;color:#e8e8e8;line-height:1.5;}
/* QUIZ */
.quiz-wrap{max-width:720px;margin:0 auto;}
#q-prog{display:flex;gap:.3rem;flex-wrap:wrap;margin-bottom:1.5rem;}
.q-dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.12);transition:.3s;}
.q-dot.done{background:var(--accent);}.q-dot.cur{background:var(--primary);transform:scale(1.3);}.q-dot.bad{background:#c0392b;}
.q-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:1.8rem;}
.q-num{font-size:.64rem;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:.5rem;}
.q-text{font-size:1rem;font-weight:600;margin-bottom:1.2rem;line-height:1.5;}
.q-opts{display:flex;flex-direction:column;gap:.6rem;}
.q-opt{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:.75rem 1rem;font-size:.88rem;cursor:pointer;transition:.2s;text-align:left;}
.q-opt:hover:not([disabled]){background:rgba(231,76,60,.1);border-color:var(--primary);}
.q-opt.ok{background:rgba(39,174,96,.15);border-color:var(--accent);color:#82e0aa;}
.q-opt.no{background:rgba(231,76,60,.15);border-color:var(--primary);color:#f1948a;}
.q-exp{margin-top:1rem;padding:.8rem 1rem;border-radius:10px;font-size:.82rem;line-height:1.6;display:none;}
.q-exp.show{display:block;}
.q-exp.ok{background:rgba(39,174,96,.1);border:1px solid rgba(39,174,96,.3);color:#a9dfbf;}
.q-exp.no{background:rgba(231,76,60,.1);border:1px solid rgba(231,76,60,.3);color:#f5b7b1;}
.q-nav{display:flex;justify-content:flex-end;margin-top:1rem;}
#q-score{text-align:center;padding:2.5rem;display:none;}
#q-score .sc-n{font-size:4rem;font-weight:900;color:var(--primary);}
#q-score .sc-l{font-size:.8rem;color:var(--muted);margin-bottom:.8rem;}
/* JOIN TYPE CARDS */
.jt-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:1rem;margin-top:1.2rem;}
.jt{border-radius:14px;padding:1.1rem;border:2px solid;text-align:center;}
.jt h4{font-size:.88rem;font-weight:800;margin-bottom:.3rem;}
.jt p{font-size:.7rem;}
.jt-cross{background:rgba(142,68,173,.06);border-color:rgba(142,68,173,.4);}.jt-cross h4{color:#c39bd3;}
.jt-inner{background:rgba(231,76,60,.06);border-color:rgba(231,76,60,.4);}.jt-inner h4{color:#f1948a;}
.jt-outer{background:rgba(41,128,185,.06);border-color:rgba(41,128,185,.4);}.jt-outer h4{color:#5dade2;}
.jt-self{background:rgba(230,126,34,.06);border-color:rgba(230,126,34,.4);}.jt-self h4{color:#f0b27a;}
.jt-semi{background:rgba(22,160,133,.06);border-color:rgba(22,160,133,.4);}.jt-semi h4{color:#48c9b0;}
/* TREE */
.tree{background:var(--card2);border-radius:12px;padding:1.5rem;margin:1rem 0;border:1px solid rgba(255,255,255,.06);}
.tree-row{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap;margin:.5rem 0;}
.tree-node{background:rgba(231,76,60,.1);border:1px solid rgba(231,76,60,.3);border-radius:8px;padding:.35rem .75rem;font-size:.72rem;font-weight:700;color:var(--primary);text-align:center;}
.tree-node.sub{background:rgba(41,128,185,.1);border-color:rgba(41,128,185,.3);color:#5dade2;}
.tree-node.leaf{background:rgba(39,174,96,.08);border-color:rgba(39,174,96,.3);color:var(--accent);font-size:.66rem;}
.tree-conn{text-align:center;color:var(--muted);font-size:.6rem;margin:.15rem 0;}
</style>
</head>
<body>

<nav>
  <span class="logo">Ch8 · Joins in SQL</span>
  <a href="#intro">Intro</a>
  <a href="#types">Types</a>
  <a href="#cross">Cross</a>
  <a href="#inner">Inner</a>
  <a href="#outer">Outer</a>
  <a href="#self">Self</a>
  <a href="#semi">Semi</a>
  <a href="#compare">Compare</a>
  <a href="#predict">Predict</a>
  <a href="#write">Write</a>
  <a href="#cards">Flashcards</a>
  <a href="#quiz">Quiz</a>
</nav>
<div id="pb"></div>

<!-- ═══════════════ HERO ═══════════════ -->
<section id="intro" style="position:relative;padding-top:110px;min-height:90vh;display:flex;flex-direction:column;justify-content:center;">
  <div class="blob b1"></div><div class="blob b2"></div>
  <div class="badge">UCS310 · Chapter 8</div>
  <h2 style="font-size:clamp(2rem,6vw,3.5rem);font-weight:900;line-height:1.1;margin-bottom:.6rem;">Joins in <span style="color:var(--primary);">SQL</span></h2>
  <p style="font-size:1rem;color:#999;max-width:580px;margin:.4rem 0 1rem;">SQL provides a convenient operation to retrieve information from multiple tables. The join operation combines tables into one large table with all possible combinations (Cartesian Product), and then filters the rows to yield useful information.</p>
  <div class="hero-stats">
    <div class="hs"><div class="n">7</div><div class="l">Join Types</div></div>
    <div class="hs"><div class="n">8</div><div class="l">Predict-Output Challenges</div></div>
    <div class="hs"><div class="n">25</div><div class="l">Flashcards</div></div>
    <div class="hs"><div class="n">15</div><div class="l">Quiz Questions</div></div>
  </div>
  <div class="btns"><a href="#types" class="btn">Start Learning →</a><a href="#quiz" class="btn btn-o">Take Quiz</a></div>

  <div class="g2 fi" style="margin-top:2.5rem;">
    <div class="hbox blue">
      <strong>What is a Join?</strong>
      <p style="margin-top:.4rem;">A join combines rows from <strong style="color:#5dade2;">multiple tables</strong> by specifying matching criteria — usually based on primary key–foreign key relationships. Think of tables as sets in a Venn diagram.</p>
    </div>
    <div class="hbox green">
      <strong>How Joins Work (2-Step Process)</strong>
      <p style="margin-top:.4rem;">① Form the <strong style="color:var(--accent);">Cartesian Product</strong> (every row of Table A paired with every row of Table B) → ② <strong style="color:var(--accent);">Filter</strong> using the ON/WHERE condition to keep only meaningful matches.</p>
    </div>
  </div>

  <div class="eg fi" style="margin-top:1.2rem;">
    <div class="eg-lbl">Cartesian Product Illustrated</div>
    <div class="eg-desc">field1 = {A, B} × field2 = {1, 2, 3} → 2×3 = 6 rows</div>
    <div style="display:flex;gap:1.5rem;align-items:center;flex-wrap:wrap;">
      <table class="demo-table" style="max-width:100px;"><thead><tr><th>field1</th></tr></thead><tbody><tr><td>A</td></tr><tr><td>B</td></tr></tbody></table>
      <span style="font-size:1.5rem;color:var(--primary);font-weight:900;">×</span>
      <table class="demo-table" style="max-width:100px;"><thead><tr><th>field2</th></tr></thead><tbody><tr><td>1</td></tr><tr><td>2</td></tr><tr><td>3</td></tr></tbody></table>
      <span style="font-size:1.5rem;color:var(--primary);font-weight:900;">→</span>
      <table class="demo-table" style="max-width:180px;"><thead><tr><th>field1</th><th>field2</th></tr></thead>
      <tbody><tr><td>A</td><td>1</td></tr><tr><td>A</td><td>2</td></tr><tr><td>A</td><td>3</td></tr><tr><td>B</td><td>1</td></tr><tr><td>B</td><td>2</td></tr><tr><td>B</td><td>3</td></tr></tbody></table>
    </div>
  </div>
</section>

<!-- ═══════════════ TYPES OVERVIEW ═══════════════ -->
<section id="types">
  <div class="sec-label">Chapter 8 · Section 1</div>
  <h2 class="fi">Types of SQL Joins</h2>
  <p class="fi" style="margin:.5rem 0 .8rem;">SQL has 5 major categories of joins — each controls which rows appear in the result based on whether a match exists.</p>

  <!-- Type Cards -->
  <div class="jt-grid fi">
    <div class="jt jt-cross"><h4>Cross Join</h4><p>All combinations. No filter. m×n rows.</p></div>
    <div class="jt jt-inner"><h4>Inner Join</h4><p>Only matched rows. Subtypes: Equi, Natural, Theta</p></div>
    <div class="jt jt-outer"><h4>Outer Join</h4><p>Matched + unmatched. Left, Right, or Full</p></div>
    <div class="jt jt-self"><h4>Self Join</h4><p>Table joins with itself. Uses two aliases.</p></div>
    <div class="jt jt-semi"><h4>Semi Join</h4><p>Returns only columns from one table. No duplicates.</p></div>
  </div>

  <!-- Join Type Tree -->
  <div class="tree fi" style="margin-top:1.5rem;">
    <div style="text-align:center;margin-bottom:.5rem;"><span class="tree-node" style="font-size:.82rem;">SQL Join</span></div>
    <div class="tree-conn">├─────────┼─────────┼─────────┤</div>
    <div class="tree-row">
      <span class="tree-node sub">Inner Join</span>
      <span class="tree-node sub">Self Join</span>
      <span class="tree-node sub">Cross Join</span>
      <span class="tree-node sub">Outer Join</span>
    </div>
    <div style="display:flex;justify-content:space-between;margin-top:.4rem;">
      <div style="display:flex;gap:.4rem;flex-wrap:wrap;"><span class="tree-node leaf">Theta</span><span class="tree-node leaf">Equi</span><span class="tree-node leaf">Natural</span></div>
      <div style="display:flex;gap:.4rem;flex-wrap:wrap;"><span class="tree-node leaf">Left</span><span class="tree-node leaf">Right</span><span class="tree-node leaf">Full</span></div>
    </div>
  </div>

  <!-- Reference Tables -->
  <div class="fi" style="margin-top:2rem;">
    <h3>Reference Tables (Used Throughout This Chapter)</h3>
    <p style="font-size:.8rem;color:#999;margin:.3rem 0 .8rem;">All examples use these two tables: <strong style="color:var(--primary);">Students (S)</strong> and <strong style="color:var(--orange);">Enrolled (E)</strong>.</p>
    <div style="display:flex;gap:2rem;flex-wrap:wrap;">
      <div>
        <p style="font-size:.72rem;font-weight:700;color:var(--primary);margin-bottom:.2rem;">S — Students</p>
        <table class="demo-table" style="max-width:200px;"><thead><tr><th>S.name</th><th>S.sid</th></tr></thead>
        <tbody><tr><td>Jones</td><td>11111</td></tr><tr><td>Smith</td><td>22222</td></tr><tr><td style="color:#f0b27a;">Brown</td><td style="color:#f0b27a;">33333</td></tr></tbody></table>
      </div>
      <div>
        <p style="font-size:.72rem;font-weight:700;color:var(--orange);margin-bottom:.2rem;">E — Enrolled</p>
        <table class="demo-table" style="max-width:220px;"><thead><tr><th>E.sid</th><th>E.classid</th></tr></thead>
        <tbody><tr><td>11111</td><td>History105</td></tr><tr><td>11111</td><td>DataScience194</td></tr><tr><td>22222</td><td>French150</td></tr><tr><td class="null-cell">NULL</td><td style="color:#f0b27a;">English10</td></tr></tbody></table>
      </div>
    </div>
    <div class="note" style="margin-top:.6rem;">Notice: Brown (33333) has no enrollment. English10 has a NULL sid. These <strong>unmatched rows</strong> behave differently depending on which join you use — this is the core concept of this chapter.</div>
  </div>
</section>

<!-- ═══════════════ CROSS JOIN ═══════════════ -->
<section id="cross">
  <div class="sec-label">Chapter 8 · Section 2</div>
  <h2 class="fi">Cross Join (Cartesian Join)</h2>
  <p class="fi" style="margin:.5rem 0 .8rem;">A CROSS JOIN generates a <strong style="color:var(--primary);">paired combination of each row</strong> of the first table with each row of the second table. No condition is applied — also known as a Cartesian Join.</p>

  <div class="hbox purple fi">
    <strong>Syntax:</strong>
    <div class="code-block"><span class="kw">SELECT</span> *
<span class="kw">FROM</span> <span class="tb">table1</span> <span class="kw">CROSS JOIN</span> <span class="tb">table2</span>;</div>
    <p style="font-size:.78rem;margin-top:.3rem;">Result rows = rows(table1) × rows(table2). No ON clause needed.</p>
  </div>

  <div class="eg fi">
    <div class="eg-lbl">Example — Students × Enrolled</div>
    <div class="code-block"><span class="kw">SELECT</span> *
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">CROSS JOIN</span> <span class="tb">Enrolled</span> E;</div>
    <p style="font-size:.8rem;color:#999;margin:.4rem 0;">Students has 2 rows, Enrolled has 3 rows → Cross Join produces 2 × 3 = <strong style="color:var(--primary);">6 rows</strong></p>
    <div class="tbl-wrap"><table class="demo-table">
      <thead><tr><th>S.name</th><th>S.sid</th><th>E.sid</th><th>E.classid</th></tr></thead>
      <tbody>
        <tr><td>Jones</td><td>11111</td><td>11111</td><td>History105</td></tr>
        <tr><td>Jones</td><td>11111</td><td>11111</td><td>DataScience194</td></tr>
        <tr><td>Jones</td><td>11111</td><td>22222</td><td>French150</td></tr>
        <tr><td>Smith</td><td>22222</td><td>11111</td><td>History105</td></tr>
        <tr><td>Smith</td><td>22222</td><td>11111</td><td>DataScience194</td></tr>
        <tr><td>Smith</td><td>22222</td><td>22222</td><td>French150</td></tr>
      </tbody>
    </table></div>
  </div>

  <div class="gotcha fi">
    <strong>Gotcha:</strong> Cross joins are rarely useful in practice because most of the output rows are meaningless. If you forget the ON clause in an INNER JOIN, you accidentally get a Cross Join — producing a massive result set!
  </div>

  <!-- STEP-BY-STEP -->
  <div class="fi" style="margin-top:1rem;">
    <h3 style="color:var(--teal);">Step-by-Step: How Cross Join Works</h3>
    <div class="step-box"><span class="step-num">1</span><strong>Take the first row of S</strong> (Jones, 11111)<p>Pair it with EVERY row in E → produces 3 rows</p></div>
    <div class="step-box"><span class="step-num">2</span><strong>Take the next row of S</strong> (Smith, 22222)<p>Pair it with EVERY row in E → produces 3 more rows</p></div>
    <div class="step-box"><span class="step-num">3</span><strong>Done!</strong><p>Total: 2 students × 3 enrollments = 6 output rows. No filtering applied.</p></div>
  </div>
</section>

<!-- ═══════════════ INNER JOIN ═══════════════ -->
<section id="inner">
  <div class="sec-label">Chapter 8 · Section 3</div>
  <h2 class="fi">Inner Join</h2>
  <p class="fi" style="margin:.5rem 0 .8rem;">Inner Join returns <strong style="color:var(--primary);">only rows where a match is found in both tables</strong>. Rows with no match in the other table are discarded. Match is based on attributes supplied in the predicate (ON clause).</p>

  <div class="a-tabs fi">
    <button class="a-tab on" onclick="showA('equi',this)">Equi Join (=)</button>
    <button class="a-tab" onclick="showA('natural',this)">Natural Join</button>
    <button class="a-tab" onclick="showA('theta',this)">Theta Join (&lt;, &gt;, etc.)</button>
    <button class="a-tab" onclick="showA('eqvnat',this)">Equi vs Natural</button>
  </div>

  <!-- EQUI JOIN -->
  <div id="ap-equi" class="a-panel on fi">
    <div class="hbox blue">
      <strong>Equi Join — uses '=' operator</strong>
      <p style="margin-top:.3rem;">If the join predicate operator is <strong style="color:#5dade2;">=</strong> (equality), it's known as an equi-join. The keyword INNER is optional.</p>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">E.classid</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">(INNER) JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span>=<span class="cl">E.sid</span></div>
    </div>

    <div class="fi" style="margin-top:.8rem;">
      <p style="font-size:.8rem;color:#999;margin-bottom:.3rem;">Using the 3-row Students table (including Brown/33333) and 4-row Enrolled table (including NULL/English10):</p>
      <div class="tbl-wrap"><table class="demo-table" style="max-width:320px;">
        <thead><tr><th>S.name</th><th>E.classid</th></tr></thead>
        <tbody>
          <tr><td>Jones</td><td>History105</td></tr>
          <tr><td>Jones</td><td>DataScience194</td></tr>
          <tr><td>Smith</td><td>French150</td></tr>
        </tbody>
      </table></div>
      <div class="note">Brown (33333) is NOT in the result — no matching E.sid. English10 (NULL sid) is NOT in result — NULL never equals anything. Only 3 rows where S.sid = E.sid survive.</div>
    </div>

    <div class="gotcha fi">
      <strong>Key Insight:</strong> An <strong>implicit join</strong> (old-style comma syntax with WHERE) produces the same result as an explicit INNER JOIN:<br>
      <code style="font-size:.75rem;color:#87ceeb;">SELECT S.name, E.classid FROM Students S, Enrolled E WHERE S.sid = E.sid;</code>
    </div>

    <!-- Step by step -->
    <div class="fi" style="margin-top:1rem;">
      <h3 style="color:var(--teal);">Step-by-Step: Equi Join Trace</h3>
      <div class="step-box"><span class="step-num">1</span><strong>Jones (11111)</strong> — check E for sid=11111<p>Found E.sid=11111/History105 → match! Output row (Jones, History105)</p></div>
      <div class="step-box"><span class="step-num">2</span><strong>Jones (11111)</strong> — found another E.sid=11111<p>Found E.sid=11111/DataScience194 → match! Output row (Jones, DataScience194)</p></div>
      <div class="step-box"><span class="step-num">3</span><strong>Smith (22222)</strong> — check E for sid=22222<p>Found E.sid=22222/French150 → match! Output row (Smith, French150)</p></div>
      <div class="step-box"><span class="step-num">4</span><strong>Brown (33333)</strong> — check E for sid=33333<p>No E.sid=33333 found. <span style="color:var(--primary);">DISCARDED</span> (inner join drops unmatched rows)</p></div>
      <div class="step-box"><span class="step-num">5</span><strong>English10 (NULL sid)</strong> — no S.sid is NULL<p>NULL ≠ anything. <span style="color:var(--primary);">DISCARDED</span></p></div>
    </div>
  </div>

  <!-- NATURAL JOIN -->
  <div id="ap-natural" class="a-panel fi">
    <div class="hbox green">
      <strong>Natural Join — auto-matches on common column names</strong>
      <p style="margin-top:.3rem;">Natural Join joins two tables based on <strong style="color:var(--accent);">same attribute name and datatypes</strong>. The result keeps only <strong style="color:var(--accent);">one copy</strong> of each common column (no duplicate column names).</p>
      <div class="code-block"><span class="kw">SELECT</span> *
<span class="kw">FROM</span> <span class="tb">Student</span> <span class="kw">NATURAL JOIN</span> <span class="tb">Mark</span>;</div>
    </div>

    <div class="eg fi">
      <div class="eg-lbl">Example — Student Natural Join Mark</div>
      <div style="display:flex;gap:2rem;flex-wrap:wrap;">
        <div>
          <p style="font-size:.72rem;font-weight:700;color:var(--primary);margin-bottom:.2rem;">Student</p>
          <table class="demo-table" style="max-width:170px;"><thead><tr><th>Roll_No</th><th>Name</th></tr></thead>
          <tbody><tr><td>1</td><td>A</td></tr><tr><td>2</td><td>B</td></tr><tr><td>3</td><td>C</td></tr></tbody></table>
        </div>
        <div>
          <p style="font-size:.72rem;font-weight:700;color:var(--orange);margin-bottom:.2rem;">Mark</p>
          <table class="demo-table" style="max-width:170px;"><thead><tr><th>Roll_No</th><th>Marks</th></tr></thead>
          <tbody><tr><td>2</td><td>70</td></tr><tr><td>3</td><td>50</td></tr><tr><td class="null-cell">NULL</td><td>85</td></tr></tbody></table>
        </div>
      </div>
      <p style="font-size:.82rem;color:#999;margin:.6rem 0 .3rem;">Common column: <strong style="color:var(--accent);">Roll_No</strong>. Result keeps only ONE Roll_No column:</p>
      <table class="demo-table" style="max-width:260px;">
        <thead><tr><th>Roll_No</th><th>Name</th><th>Marks</th></tr></thead>
        <tbody><tr><td>2</td><td>B</td><td>70</td></tr><tr><td>3</td><td>C</td><td>50</td></tr></tbody>
      </table>
      <div class="note">Roll_No=1 (A) is dropped — no match in Mark. NULL Roll_No in Mark is dropped — NULL≠anything.</div>
    </div>
  </div>

  <!-- EQUI vs NATURAL -->
  <div id="ap-eqvnat" class="a-panel fi">
    <h3 style="margin-bottom:.8rem;">Equi Join vs Natural Join — 4 Key Differences</h3>
    <div class="tbl-wrap"><table class="diff-table">
      <thead><tr><th>#</th><th>Natural Join</th><th>Inner (Equi) Join</th></tr></thead>
      <tbody>
        <tr><td><strong>1</strong></td><td>Matches on <strong style="color:var(--accent);">same attribute name & datatype</strong> automatically</td><td>Matches on column <strong style="color:#5dade2;">explicitly specified in ON clause</strong></td></tr>
        <tr><td><strong>2</strong></td><td>Result keeps <strong style="color:var(--accent);">one copy</strong> of common column (no duplicate)</td><td>Result includes <strong style="color:#5dade2;">all columns from both tables</strong> including duplicate column names</td></tr>
        <tr><td><strong>3</strong></td><td>No condition needed — auto-detects common column</td><td>Only matching records returned based on ON condition</td></tr>
        <tr><td><strong>4</strong></td><td><code style="font-size:.72rem;">SELECT * FROM table1 <span style="color:var(--accent);">NATURAL JOIN</span> table2;</code></td><td><code style="font-size:.72rem;">SELECT * FROM table1 <span style="color:#5dade2;">INNER JOIN</span> table2 ON t1.col = t2.col;</code></td></tr>
      </tbody>
    </table></div>

    <div class="eg fi" style="margin-top:.8rem;">
      <div class="eg-lbl">Same Data — Different Results</div>
      <div class="eg-desc">INNER JOIN keeps BOTH Roll_No columns, NATURAL JOIN keeps only ONE:</div>
      <p style="font-size:.72rem;font-weight:700;color:#5dade2;margin-bottom:.2rem;">Inner Join Result (4 columns):</p>
      <table class="demo-table" style="max-width:340px;"><thead><tr><th>Roll_No</th><th>Name</th><th>Roll_No</th><th>Marks</th></tr></thead>
      <tbody><tr><td>2</td><td>B</td><td>2</td><td>70</td></tr><tr><td>3</td><td>C</td><td>3</td><td>50</td></tr></tbody></table>
      <p style="font-size:.72rem;font-weight:700;color:var(--accent);margin:.6rem 0 .2rem;">Natural Join Result (3 columns — one Roll_No removed):</p>
      <table class="demo-table" style="max-width:260px;"><thead><tr><th>Roll_No</th><th>Name</th><th>Marks</th></tr></thead>
      <tbody><tr><td>2</td><td>B</td><td>70</td></tr><tr><td>3</td><td>C</td><td>50</td></tr></tbody></table>
    </div>
  </div>

  <!-- THETA JOIN -->
  <div id="ap-theta" class="a-panel fi">
    <div class="hbox orange">
      <strong>Theta Join (Non-Equi Join)</strong>
      <p style="margin-top:.3rem;">Uses operators other than equality: <strong style="color:var(--orange);"> &lt;, &lt;=, &gt;, &gt;=, &lt;&gt; </strong>. The condition can be any comparison.</p>
      <div class="code-block"><span class="kw">SELECT</span> *
<span class="kw">FROM</span> <span class="tb">Students</span> S, <span class="tb">Enrolled</span> E
<span class="kw">WHERE</span> <span class="cl">S.sid</span> <span class="kw">&lt;=</span> <span class="cl">E.sid</span></div>
    </div>

    <div class="eg fi">
      <div class="eg-lbl">Example — Theta Join with &lt;=</div>
      <div class="eg-desc">Returns all rows where S.sid &lt;= E.sid (Students has Jones/11111, Smith/22222; Enrolled has 11111, 11111, 22222)</div>
      <div class="tbl-wrap"><table class="demo-table">
        <thead><tr><th>S.name</th><th>S.sid</th><th>E.sid</th><th>E.classid</th></tr></thead>
        <tbody>
          <tr><td>Jones</td><td>11111</td><td>11111</td><td>History105</td></tr>
          <tr><td>Jones</td><td>11111</td><td>11111</td><td>DataScience194</td></tr>
          <tr><td>Jones</td><td>11111</td><td>22222</td><td>French150</td></tr>
          <tr><td>Smith</td><td>22222</td><td>22222</td><td>French150</td></tr>
        </tbody>
      </table></div>
      <p style="font-size:.78rem;color:#999;margin-top:.3rem;">Jones (11111) matches all 3 E rows since 11111 &lt;= 11111, 11111, 22222. Smith (22222) only matches E.sid=22222 since 22222 is NOT &lt;= 11111.</p>
    </div>
  </div>

  <!-- Joins and Inference -->
  <div class="fi" style="margin-top:2rem;">
    <h3>Joins and Inference — Deriving New Facts</h3>
    <p style="margin:.4rem 0 .8rem;color:#999;font-size:.85rem;">Chaining relations together is the basic inference method in relational DBs. It produces new relations (effectively new facts) from the data.</p>
    <div class="eg">
      <div class="eg-lbl">Example — Implicit Join (Inference)</div>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">M.mortality</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S, <span class="tb">Mortality</span> M
<span class="kw">WHERE</span> <span class="cl">S.Race</span>=<span class="cl">M.Race</span></div>
      <div style="display:flex;gap:2rem;flex-wrap:wrap;margin-top:.5rem;">
        <div>
          <p style="font-size:.72rem;font-weight:700;color:var(--primary);">Students (S)</p>
          <table class="demo-table" style="max-width:200px;"><thead><tr><th>Name</th><th>Race</th></tr></thead>
          <tbody><tr><td>Socrates</td><td>Man</td></tr><tr><td>Thor</td><td>God</td></tr><tr><td>Barney</td><td>Dinosaur</td></tr><tr><td>Blarney stone</td><td>Stone</td></tr></tbody></table>
        </div>
        <div>
          <p style="font-size:.72rem;font-weight:700;color:var(--orange);">Mortality (M)</p>
          <table class="demo-table" style="max-width:200px;"><thead><tr><th>Race</th><th>Mortality</th></tr></thead>
          <tbody><tr><td>Man</td><td>Mortal</td></tr><tr><td>God</td><td>Immortal</td></tr><tr><td>Dinosaur</td><td>Mortal</td></tr><tr><td>Stone</td><td>Non-living</td></tr></tbody></table>
        </div>
      </div>
      <p style="font-size:.72rem;font-weight:700;color:var(--accent);margin:.6rem 0 .2rem;">Result — New facts derived from the join:</p>
      <table class="demo-table" style="max-width:250px;"><thead><tr><th>Name</th><th>Mortality</th></tr></thead>
      <tbody><tr><td>Socrates</td><td>Mortal</td></tr><tr><td>Thor</td><td>Immortal</td></tr><tr><td>Barney</td><td>Mortal</td></tr><tr><td>Blarney stone</td><td>Non-living</td></tr></tbody></table>
    </div>
  </div>
</section>

<!-- ═══════════════ OUTER JOINS ═══════════════ -->
<section id="outer">
  <div class="sec-label">Chapter 8 · Section 4</div>
  <h2 class="fi">Outer Joins</h2>
  <p class="fi" style="margin:.5rem 0 .8rem;">Unlike inner joins, outer joins <strong style="color:var(--primary);">preserve unmatched rows</strong> — filling in NULL for the missing side. Which rows get preserved depends on LEFT, RIGHT, or FULL.</p>

  <div class="a-tabs fi">
    <button class="a-tab on" onclick="showA('left',this)">Left Outer Join</button>
    <button class="a-tab" onclick="showA('right',this)">Right Outer Join</button>
    <button class="a-tab" onclick="showA('full',this)">Full Outer Join</button>
  </div>

  <!-- LEFT -->
  <div id="ap-left" class="a-panel on fi">
    <div class="hbox blue">
      <strong>Left Outer Join</strong>
      <p style="margin-top:.3rem;">A LEFT JOIN performs a join starting with the first (<strong style="color:#5dade2;">left-most</strong>) table. <strong style="color:#5dade2;">All rows from the left table are kept</strong>, even if no match in the right table. Unmatched right-side columns get NULL. LEFT JOIN = LEFT OUTER JOIN (same thing).</p>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">column-names</span>
<span class="kw">FROM</span> <span class="tb">table-name1</span> <span class="kw">LEFT OUTER JOIN</span> <span class="tb">table-name2</span>
<span class="kw">ON</span> <span class="cl">column-name1</span> = <span class="cl">column-name2</span></div>
    </div>

    <div class="eg fi">
      <div class="eg-lbl">Example — List all students and their classid, whether they enrolled or not</div>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">E.classid</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">LEFT OUTER JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span>=<span class="cl">E.sid</span></div>
      <table class="demo-table" style="max-width:320px;">
        <thead><tr><th>S.name</th><th>E.classid</th></tr></thead>
        <tbody>
          <tr><td>Jones</td><td>History105</td></tr>
          <tr><td>Jones</td><td>DataScience194</td></tr>
          <tr><td>Smith</td><td>French150</td></tr>
          <tr class="hl-row"><td style="color:#f0b27a;">Brown</td><td class="null-cell">NULL</td></tr>
        </tbody>
      </table>
      <div class="note">Brown appears even though they have no enrollment — because LEFT JOIN keeps ALL left table rows. The classid column is NULL because there's no match.</div>
    </div>

    <div class="gotcha fi">
      <strong>Exam Pattern — Finding unmatched rows:</strong> To find students with NO enrollments, add <code style="color:#f9e04b;">WHERE E.classid IS NULL</code>. This is a very common exam question pattern (seen in EST Q6b).
    </div>
  </div>

  <!-- RIGHT -->
  <div id="ap-right" class="a-panel fi">
    <div class="hbox orange">
      <strong>Right Outer Join</strong>
      <p style="margin-top:.3rem;">A RIGHT JOIN performs a join starting with the second (<strong style="color:var(--orange);">right-most</strong>) table. <strong style="color:var(--orange);">All rows from the right table are kept</strong>, even with no match on the left. RIGHT JOIN = RIGHT OUTER JOIN (same thing).</p>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">column-names</span>
<span class="kw">FROM</span> <span class="tb">table-name1</span> <span class="kw">RIGHT OUTER JOIN</span> <span class="tb">table-name2</span>
<span class="kw">ON</span> <span class="cl">column-name1</span> = <span class="cl">column-name2</span></div>
    </div>

    <div class="eg fi">
      <div class="eg-lbl">Example — List all classids and students, whether any student enrolled or not</div>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">E.classid</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">RIGHT OUTER JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span>=<span class="cl">E.sid</span></div>
      <table class="demo-table" style="max-width:320px;">
        <thead><tr><th>S.name</th><th>E.classid</th></tr></thead>
        <tbody>
          <tr><td>Jones</td><td>History105</td></tr>
          <tr><td>Jones</td><td>DataScience194</td></tr>
          <tr><td>Smith</td><td>French150</td></tr>
          <tr class="hl-row"><td class="null-cell">NULL</td><td style="color:#f0b27a;">English10</td></tr>
        </tbody>
      </table>
      <div class="note">English10 appears even though it has NULL sid (no matching student) — because RIGHT JOIN keeps ALL right table rows. The S.name column is NULL for unmatched rows.</div>
    </div>
  </div>

  <!-- FULL -->
  <div id="ap-full" class="a-panel fi">
    <div class="hbox purple">
      <strong>Full Outer Join</strong>
      <p style="margin-top:.3rem;">FULL JOIN returns <strong style="color:#c39bd3;">all matching records from both tables</strong> whether the other table matches or not. It's the union of LEFT and RIGHT joins. FULL JOIN = FULL OUTER JOIN. Can produce very large datasets.</p>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">column-names</span>
<span class="kw">FROM</span> <span class="tb">table-name1</span> <span class="kw">FULL OUTER JOIN</span> <span class="tb">table-name2</span>
<span class="kw">ON</span> <span class="cl">column-name1</span> = <span class="cl">column-name2</span></div>
    </div>

    <div class="eg fi">
      <div class="eg-lbl">Example — All students and all classes, regardless of match</div>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">E.classid</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">FULL OUTER JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span>=<span class="cl">E.sid</span></div>
      <table class="demo-table" style="max-width:320px;">
        <thead><tr><th>S.name</th><th>E.classid</th></tr></thead>
        <tbody>
          <tr><td>Jones</td><td>History105</td></tr>
          <tr><td>Jones</td><td>DataScience194</td></tr>
          <tr><td>Smith</td><td>French150</td></tr>
          <tr class="hl-row"><td class="null-cell">NULL</td><td style="color:#f0b27a;">English10</td></tr>
          <tr class="hl-row"><td style="color:#f0b27a;">Brown</td><td class="null-cell">NULL</td></tr>
        </tbody>
      </table>
      <div class="note">BOTH unmatched rows appear: Brown with NULL classid (from left table) AND English10 with NULL name (from right table). This is the combination of LEFT + RIGHT join results.</div>
    </div>
  </div>

  <!-- OUTER JOIN COMPARISON -->
  <div class="fi" style="margin-top:2rem;">
    <h3>Outer Joins — Quick Comparison</h3>
    <div class="tbl-wrap"><table class="diff-table" style="margin-top:.6rem;">
      <thead><tr><th>Feature</th><th>Left Outer</th><th>Right Outer</th><th>Full Outer</th></tr></thead>
      <tbody>
        <tr><td>Keeps ALL from</td><td style="color:#5dade2;">Left table</td><td style="color:var(--orange);">Right table</td><td style="color:#c39bd3;">Both tables</td></tr>
        <tr><td>NULL fill on</td><td>Right side (unmatched)</td><td>Left side (unmatched)</td><td>Both sides (unmatched)</td></tr>
        <tr><td>Brown appears?</td><td style="color:var(--accent);">YES (with NULL classid)</td><td style="color:var(--primary);">NO</td><td style="color:var(--accent);">YES</td></tr>
        <tr><td>English10 appears?</td><td style="color:var(--primary);">NO</td><td style="color:var(--accent);">YES (with NULL name)</td><td style="color:var(--accent);">YES</td></tr>
        <tr><td>Rows in example</td><td>4</td><td>4</td><td>5</td></tr>
      </tbody>
    </table></div>
  </div>
</section>

<!-- ═══════════════ SELF JOIN ═══════════════ -->
<section id="self">
  <div class="sec-label">Chapter 8 · Section 5</div>
  <h2 class="fi">Self Join</h2>
  <p class="fi" style="margin:.5rem 0 .8rem;">A Self Join is when a table <strong style="color:var(--primary);">joins with itself</strong>. Each row is combined with every other row of the same table. Useful for comparisons within a table (e.g., employee → manager relationships).</p>

  <div class="hbox orange fi">
    <strong>Syntax:</strong>
    <div class="code-block"><span class="kw">SELECT</span> <span class="cl">column-names</span>
<span class="kw">FROM</span> <span class="tb">table-name</span> T1 <span class="kw">JOIN</span> <span class="tb">table-name</span> T2
<span class="kw">WHERE</span> condition</div>
    <p style="font-size:.78rem;margin-top:.3rem;">Two different aliases (T1, T2) for the same table — this is how SQL treats one table as two.</p>
  </div>

  <div class="eg fi">
    <div class="eg-lbl">Classic Example — Employee & Manager (High-Priority Exam Topic!)</div>
    <div class="eg-desc">Given an Employee table with a Manager-id column that references back to the same table's Emp-id:</div>
    <table class="demo-table" style="max-width:340px;">
      <thead><tr><th>Emp-id</th><th>Name</th><th>Manager-id</th></tr></thead>
      <tbody>
        <tr><td>111</td><td>Ravi</td><td class="null-cell">NULL</td></tr>
        <tr><td>112</td><td>Rakul</td><td>111</td></tr>
        <tr><td>113</td><td>Pal</td><td>111</td></tr>
        <tr><td>114</td><td>Yuvi</td><td>113</td></tr>
        <tr><td>115</td><td>Juri</td><td>112</td></tr>
      </tbody>
    </table>

    <p style="font-size:.82rem;color:var(--primary);font-weight:700;margin:.8rem 0 .3rem;">Query: Return all employees and the name of their manager</p>
    <div class="code-block"><span class="kw">SELECT</span> <span class="cl">e1.Name</span> <span class="kw">AS</span> <span class="val">Employee</span>, <span class="cl">e2.Name</span> <span class="kw">AS</span> <span class="val">Manager</span>
<span class="kw">FROM</span> <span class="tb">Employee</span> e1 <span class="kw">JOIN</span> <span class="tb">Employee</span> e2
<span class="kw">ON</span> <span class="cl">e1.Manager-id</span> = <span class="cl">e2.Employee-id</span>;</div>

    <table class="demo-table" style="max-width:300px;margin-top:.5rem;">
      <thead><tr><th>Employee</th><th>Manager</th></tr></thead>
      <tbody>
        <tr><td>Ravi</td><td class="null-cell">NULL</td></tr>
        <tr><td>Rakul</td><td>Ravi</td></tr>
        <tr><td>Pal</td><td>Ravi</td></tr>
        <tr><td>Yuvi</td><td>Pal</td></tr>
        <tr><td>Juri</td><td>Rakul</td></tr>
      </tbody>
    </table>
  </div>

  <!-- Step-by-step -->
  <div class="fi" style="margin-top:1rem;">
    <h3 style="color:var(--teal);">Step-by-Step: Self Join Trace</h3>
    <div class="step-box"><span class="step-num">1</span><strong>e1 = Ravi (Manager-id=NULL)</strong><p>Look for e2 where Employee-id=NULL → no match → Manager column = NULL</p></div>
    <div class="step-box"><span class="step-num">2</span><strong>e1 = Rakul (Manager-id=111)</strong><p>Look for e2 where Employee-id=111 → e2=Ravi → Output: Rakul's manager is Ravi</p></div>
    <div class="step-box"><span class="step-num">3</span><strong>e1 = Pal (Manager-id=111)</strong><p>e2 where Employee-id=111 → e2=Ravi → Output: Pal's manager is also Ravi</p></div>
    <div class="step-box"><span class="step-num">4</span><strong>e1 = Yuvi (Manager-id=113)</strong><p>e2 where Employee-id=113 → e2=Pal → Output: Yuvi's manager is Pal</p></div>
    <div class="step-box"><span class="step-num">5</span><strong>e1 = Juri (Manager-id=112)</strong><p>e2 where Employee-id=112 → e2=Rakul → Output: Juri's manager is Rakul</p></div>
  </div>

  <div class="gotcha fi">
    <strong>PYQ Alert:</strong> Self joins appear in almost every exam paper. Common patterns: "Find employees in the same department", "Find employees on the same location", "Find employee and their manager's name". Always use TWO aliases for the SAME table.
  </div>
</section>

<!-- ═══════════════ SEMI JOIN ═══════════════ -->
<section id="semi">
  <div class="sec-label">Chapter 8 · Section 6</div>
  <h2 class="fi">Semi Join</h2>
  <p class="fi" style="margin:.5rem 0 .8rem;">A Semi Join returns only the columns from <strong style="color:var(--primary);">one</strong> of the tables. Each row from the first table is returned <strong style="color:var(--primary);">at most once</strong>, even if it matches multiple rows in the second table. No row duplication can occur.</p>

  <div class="g2 fi">
    <div class="hbox teal">
      <strong>Semi Join vs Regular Join</strong>
      <ul style="margin-top:.4rem;padding-left:1rem;font-size:.82rem;">
        <li>Semi join: returns each row from Table A <strong style="color:#48c9b0;">at most once</strong>. No duplicates.</li>
        <li>Regular join: returns duplicates if multiple matches exist.</li>
        <li>Semi join: returns columns from <strong style="color:#48c9b0;">only Table A</strong>.</li>
        <li>Regular join: returns columns from both tables.</li>
      </ul>
    </div>
    <div class="hbox blue">
      <strong>Syntax (Left Semi Join):</strong>
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">E.classid</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">LEFT SEMI JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span>=<span class="cl">E.sid</span></div>
    </div>
  </div>

  <div class="eg fi">
    <div class="eg-lbl">Example — Left Semi Join</div>
    <div class="eg-desc">Jones matches 2 rows in E (History105, DataScience194), but Semi Join returns Jones only ONCE:</div>
    <table class="demo-table" style="max-width:320px;">
      <thead><tr><th>S.name</th><th>E.classid</th></tr></thead>
      <tbody>
        <tr><td>Jones</td><td>History105</td></tr>
        <tr><td>Smith</td><td>French150</td></tr>
      </tbody>
    </table>
    <div class="note">Compare with Inner Join which returns Jones TWICE (for History105 AND DataScience194). Semi Join returns each left-table row at most once.</div>
  </div>
</section>

<!-- ═══════════════ COMPARISON ═══════════════ -->
<section id="compare">
  <div class="sec-label">Chapter 8 · Summary</div>
  <h2 class="fi">All Joins — Master Comparison Table</h2>
  <div class="tbl-wrap fi"><table class="diff-table" style="margin-top:.8rem;">
    <thead><tr><th>Join Type</th><th>What It Returns</th><th>Unmatched Rows?</th><th>NULL Handling</th><th>Keyword</th></tr></thead>
    <tbody>
      <tr><td><strong style="color:#c39bd3;">Cross</strong></td><td>All combinations (m×n)</td><td>N/A — no filter</td><td>N/A</td><td>CROSS JOIN</td></tr>
      <tr><td><strong style="color:#f1948a;">Inner (Equi)</strong></td><td>Only matching rows (=)</td><td>Discarded</td><td>NULL ≠ anything → dropped</td><td>[INNER] JOIN ... ON</td></tr>
      <tr><td><strong style="color:var(--accent);">Natural</strong></td><td>Matching on common col name</td><td>Discarded</td><td>NULL ≠ anything → dropped</td><td>NATURAL JOIN</td></tr>
      <tr><td><strong style="color:var(--orange);">Theta</strong></td><td>Matching on &lt; &lt;= &gt; &gt;= &lt;&gt;</td><td>Discarded</td><td>NULL ≠ anything → dropped</td><td>FROM t1, t2 WHERE cond</td></tr>
      <tr><td><strong style="color:#5dade2;">Left Outer</strong></td><td>All left + matched right</td><td>Left kept, right → NULL</td><td>Unmatched right = NULL</td><td>LEFT [OUTER] JOIN</td></tr>
      <tr><td><strong style="color:var(--orange);">Right Outer</strong></td><td>All right + matched left</td><td>Right kept, left → NULL</td><td>Unmatched left = NULL</td><td>RIGHT [OUTER] JOIN</td></tr>
      <tr><td><strong style="color:#c39bd3;">Full Outer</strong></td><td>All from both tables</td><td>Both kept → NULL fill</td><td>Both sides can be NULL</td><td>FULL [OUTER] JOIN</td></tr>
      <tr><td><strong style="color:var(--orange);">Self</strong></td><td>Table joined with itself</td><td>Depends on join type used</td><td>Same as underlying join</td><td>FROM t T1 JOIN t T2</td></tr>
      <tr><td><strong style="color:#48c9b0;">Semi</strong></td><td>One table's cols, no duplicates</td><td>Only matched rows</td><td>No duplication even if multi-match</td><td>LEFT SEMI JOIN</td></tr>
    </tbody>
  </table></div>
</section>

<!-- ═══════════════ PREDICT THE OUTPUT ═══════════════ -->
<section id="predict">
  <div class="sec-label">Active Learning · Challenge 1</div>
  <h2 class="fi">Predict the Output</h2>
  <p class="fi" style="margin:.5rem 0 1rem;color:#999;">Look at the query and tables, try to work out the result in your head, then click to check. This directly trains the skill your professor tests.</p>

  <!-- PTO 1 -->
  <div class="pto fi" id="pto1">
    <div class="pto-badge">Challenge 1 — Identify the Join</div>
    <div class="pto-q">What kind of join produces this result?</div>
    <div class="code-block"><span class="kw">SELECT</span> *
<span class="kw">FROM</span> <span class="tb">Students</span> S ?? <span class="tb">Enrolled</span> E;</div>
    <p style="font-size:.8rem;color:#999;margin:.3rem 0;">Output: 6 rows (every student paired with every enrollment, no filtering)</p>
    <div class="pto-hint">Think: No ON clause, all combinations, m×n rows...</div>
    <button class="pto-btn" onclick="reveal('pto1')">Reveal Answer</button>
    <div class="pto-reveal"><strong style="color:var(--accent);">CROSS JOIN</strong> — The Cartesian product. All rows from S are paired with all rows from E. No condition applied. 2 students × 3 enrollments = 6 rows.</div>
  </div>

  <!-- PTO 2 -->
  <div class="pto fi" id="pto2">
    <div class="pto-badge">Challenge 2 — Left vs Right</div>
    <div class="pto-q">Given this query, will Brown (33333) appear in the output?</div>
    <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">E.classid</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">RIGHT OUTER JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span>=<span class="cl">E.sid</span></div>
    <div class="pto-hint">Think: RIGHT keeps all from the right table (Enrolled). Brown is in the left table (Students)...</div>
    <button class="pto-btn" onclick="reveal('pto2')">Reveal Answer</button>
    <div class="pto-reveal"><strong style="color:var(--primary);">NO — Brown does NOT appear.</strong> RIGHT JOIN preserves all rows from the RIGHT table (Enrolled), not the left. Brown (33333) has no match in Enrolled and is in the LEFT table, so he's dropped. English10 DOES appear (it's in the right table) with NULL for S.name.</div>
  </div>

  <!-- PTO 3 -->
  <div class="pto fi" id="pto3">
    <div class="pto-badge">Challenge 3 — Count the Rows</div>
    <div class="pto-q">How many rows does this FULL OUTER JOIN produce?</div>
    <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">E.classid</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">FULL OUTER JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span>=<span class="cl">E.sid</span></div>
    <div class="pto-hint">Think: 3 matched rows + Brown unmatched from left + English10 unmatched from right...</div>
    <button class="pto-btn" onclick="reveal('pto3')">Reveal Answer</button>
    <div class="pto-reveal"><strong style="color:var(--accent);">5 rows.</strong> 3 matched (Jones/History105, Jones/DataScience194, Smith/French150) + Brown/NULL (unmatched left) + NULL/English10 (unmatched right) = 5 total. FULL JOIN = LEFT ∪ RIGHT.</div>
  </div>

  <!-- PTO 4 -->
  <div class="pto fi" id="pto4">
    <div class="pto-badge">Challenge 4 — Natural vs Inner</div>
    <div class="pto-q">What is the difference in the output columns between these two queries?</div>
    <div class="code-block"><span class="cm">-- Query A:</span>
<span class="kw">SELECT</span> * <span class="kw">FROM</span> <span class="tb">Student</span> <span class="kw">NATURAL JOIN</span> <span class="tb">Mark</span>;

<span class="cm">-- Query B:</span>
<span class="kw">SELECT</span> * <span class="kw">FROM</span> <span class="tb">Student</span> S <span class="kw">INNER JOIN</span> <span class="tb">Mark</span> M <span class="kw">ON</span> <span class="cl">S.Roll_No</span>=<span class="cl">M.Roll_No</span>;</div>
    <div class="pto-hint">Think: Both return the same matching rows, but the column count differs...</div>
    <button class="pto-btn" onclick="reveal('pto4')">Reveal Answer</button>
    <div class="pto-reveal"><strong style="color:var(--accent);">Query A (Natural) produces 3 columns</strong> (Roll_No, Name, Marks) — one copy of the common column.<br><strong style="color:#5dade2;">Query B (Inner) produces 4 columns</strong> (Roll_No, Name, Roll_No, Marks) — both copies of Roll_No are kept. Same rows, different column structure.</div>
  </div>

  <!-- PTO 5 -->
  <div class="pto fi" id="pto5">
    <div class="pto-badge">Challenge 5 — Self Join</div>
    <div class="pto-q">Using the Employee table, what is Yuvi's manager's name?</div>
    <p style="font-size:.78rem;color:#999;">Employee table: Ravi(111/NULL), Rakul(112/111), Pal(113/111), Yuvi(114/113), Juri(115/112)</p>
    <div class="pto-hint">Trace: Yuvi's Manager-id = 113. Find Employee-id = 113...</div>
    <button class="pto-btn" onclick="reveal('pto5')">Reveal Answer</button>
    <div class="pto-reveal"><strong style="color:var(--accent);">Pal.</strong> Yuvi's Manager-id = 113. Employee with id 113 is Pal. So the self join maps e1.Yuvi → e2.Pal.</div>
  </div>

  <!-- PTO 6 -->
  <div class="pto fi" id="pto6">
    <div class="pto-badge">Challenge 6 — Semi Join vs Inner Join</div>
    <div class="pto-q">Inner Join returns Jones TWICE (for History105 and DataScience194). How many times does Semi Join return Jones?</div>
    <div class="pto-hint">Think: What's the key rule of semi joins?</div>
    <button class="pto-btn" onclick="reveal('pto6')">Reveal Answer</button>
    <div class="pto-reveal"><strong style="color:var(--accent);">Once.</strong> Semi Join returns each row from the first table at most once, regardless of how many matches exist. Jones matches 2 enrollments but appears only 1 time. No row duplication can occur.</div>
  </div>

  <!-- PTO 7 -->
  <div class="pto fi" id="pto7">
    <div class="pto-badge">Challenge 7 — Theta Join</div>
    <div class="pto-q">Using S.sid &lt;= E.sid with Students(Jones/11111, Smith/22222) and Enrolled(11111, 11111, 22222), does Smith match E.sid=11111?</div>
    <div class="pto-hint">Is 22222 &lt;= 11111?</div>
    <button class="pto-btn" onclick="reveal('pto7')">Reveal Answer</button>
    <div class="pto-reveal"><strong style="color:var(--primary);">No.</strong> 22222 is NOT &lt;= 11111. So Smith does NOT match E.sid=11111 or E.sid=11111. Smith only matches E.sid=22222 (since 22222 &lt;= 22222 is true). Total: Jones matches 3 rows, Smith matches 1 row = 4 output rows.</div>
  </div>

  <!-- PTO 8 -->
  <div class="pto fi" id="pto8">
    <div class="pto-badge">Challenge 8 — NULL Trap</div>
    <div class="pto-q">In INNER JOIN with ON S.sid=E.sid, the Enrolled table has a row with E.sid=NULL and classid=English10. Does this row appear?</div>
    <div class="pto-hint">Can NULL ever equal anything?</div>
    <button class="pto-btn" onclick="reveal('pto8')">Reveal Answer</button>
    <div class="pto-reveal"><strong style="color:var(--primary);">No — NEVER.</strong> In SQL, NULL is not equal to anything, not even another NULL. So E.sid=NULL will never match any S.sid value. This row only appears in RIGHT OUTER JOIN or FULL OUTER JOIN.</div>
  </div>
</section>

<!-- ═══════════════ WRITE THE QUERY ═══════════════ -->
<section id="write">
  <div class="sec-label">Active Learning · Challenge 2</div>
  <h2 class="fi">Write the Query</h2>
  <p class="fi" style="margin:.5rem 0 1rem;color:#999;">Given an English description, try to write the SQL before clicking reveal. This is exactly what exam questions ask you to do.</p>

  <div class="wtq fi" id="wtq1">
    <div class="wtq-badge">Query Challenge 1</div>
    <div class="wtq-q">List all students and their class IDs — including students who are NOT enrolled in any class.</div>
    <div class="wtq-hint">Which join preserves all rows from the Students table?</div>
    <button class="wtq-btn" onclick="reveal('wtq1')">Reveal Answer</button>
    <div class="wtq-reveal">
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>, <span class="cl">E.classid</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">LEFT OUTER JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span> = <span class="cl">E.sid</span>;</div>
      <p style="font-size:.78rem;color:var(--accent);margin-top:.3rem;">LEFT JOIN — keeps all from Students (left table), fills NULL for unmatched Enrolled rows.</p>
    </div>
  </div>

  <div class="wtq fi" id="wtq2">
    <div class="wtq-badge">Query Challenge 2</div>
    <div class="wtq-q">Find the names of students who have NOT enrolled in any class.</div>
    <div class="wtq-hint">Start with LEFT JOIN, then filter for NULLs on the right side...</div>
    <button class="wtq-btn" onclick="reveal('wtq2')">Reveal Answer</button>
    <div class="wtq-reveal">
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.name</span>
<span class="kw">FROM</span> <span class="tb">Students</span> S <span class="kw">LEFT OUTER JOIN</span> <span class="tb">Enrolled</span> E
<span class="kw">ON</span> <span class="cl">S.sid</span> = <span class="cl">E.sid</span>
<span class="kw">WHERE</span> <span class="cl">E.sid</span> <span class="kw">IS NULL</span>;</div>
      <p style="font-size:.78rem;color:var(--accent);margin-top:.3rem;">LEFT JOIN + WHERE IS NULL pattern. Returns: Brown (the only student with no enrollment). This pattern appears frequently in exams!</p>
    </div>
  </div>

  <div class="wtq fi" id="wtq3">
    <div class="wtq-badge">Query Challenge 3 — Self Join (PYQ Pattern)</div>
    <div class="wtq-q">Given EMP(Employee_ID, Employee_Name, Department, Salary) and Dept(Department, Location), find employees who work in the same department.</div>
    <div class="wtq-hint">You need to join EMP with itself, comparing Department column...</div>
    <button class="wtq-btn" onclick="reveal('wtq3')">Reveal Answer</button>
    <div class="wtq-reveal">
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">e1.Employee_Name</span>, <span class="cl">e2.Employee_Name</span>
<span class="kw">FROM</span> <span class="tb">EMP</span> e1 <span class="kw">JOIN</span> <span class="tb">EMP</span> e2
<span class="kw">ON</span> <span class="cl">e1.Department</span> = <span class="cl">e2.Department</span>
<span class="kw">AND</span> <span class="cl">e1.Employee_ID</span> &lt;&gt; <span class="cl">e2.Employee_ID</span>;</div>
      <p style="font-size:.78rem;color:var(--accent);margin-top:.3rem;">Self Join with TWO conditions: same department AND different employee IDs (to avoid pairing an employee with themselves). This exact question appeared in MST March 2025!</p>
    </div>
  </div>

  <div class="wtq fi" id="wtq4">
    <div class="wtq-badge">Query Challenge 4 — Self Join (PYQ Pattern)</div>
    <div class="wtq-q">Return each employee's name and their manager's name from the Employee table (Emp-id, Name, Manager-id).</div>
    <div class="wtq-hint">Join Employee with itself: e1.Manager-id = e2.Employee-id</div>
    <button class="wtq-btn" onclick="reveal('wtq4')">Reveal Answer</button>
    <div class="wtq-reveal">
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">e1.Name</span> <span class="kw">AS</span> <span class="val">Employee</span>, <span class="cl">e2.Name</span> <span class="kw">AS</span> <span class="val">Manager</span>
<span class="kw">FROM</span> <span class="tb">Employee</span> e1 <span class="kw">JOIN</span> <span class="tb">Employee</span> e2
<span class="kw">ON</span> <span class="cl">e1.Manager-id</span> = <span class="cl">e2.Employee-id</span>;</div>
      <p style="font-size:.78rem;color:var(--accent);margin-top:.3rem;">Classic Self Join. This appeared in AUX Feb 2025 and MST March 2025. Use LEFT JOIN instead of INNER JOIN if you want Ravi (who has NULL manager) to also appear.</p>
    </div>
  </div>

  <div class="wtq fi" id="wtq5">
    <div class="wtq-badge">Query Challenge 5 — Natural Join with Aggregation (EST Pattern)</div>
    <div class="wtq-q">Given Student(Roll_no, Student_name) and Performance(Roll_no, Subject_code, Marks), find student names and their total marks for students scoring above 84, grouped by name.</div>
    <div class="wtq-hint">Use Natural Join (common column = Roll_no), then WHERE, GROUP BY, and SUM...</div>
    <button class="wtq-btn" onclick="reveal('wtq5')">Reveal Answer</button>
    <div class="wtq-reveal">
      <div class="code-block"><span class="kw">SELECT</span> <span class="cl">S.Student_name</span>, <span class="fn">SUM</span>(<span class="cl">P.Marks</span>)
<span class="kw">FROM</span> <span class="tb">Student</span> S <span class="kw">NATURAL JOIN</span> <span class="tb">Performance</span> P
<span class="kw">WHERE</span> <span class="cl">P.Marks</span> &gt; 84
<span class="kw">GROUP BY</span> <span class="cl">S.Student_name</span>;</div>
      <p style="font-size:.78rem;color:var(--accent);margin-top:.3rem;">Directly from EST June 2025 Q6b! Natural Join automatically matches on Roll_no since both tables have that column.</p>
    </div>
  </div>
</section>

<!-- ═══════════════ FLASHCARDS ═══════════════ -->
<section id="cards">
  <div class="sec-label">Chapter 8 · Review</div>
  <h2 class="fi">Flashcards <span style="font-size:.75rem;color:var(--muted);font-weight:400;">— click to flip</span></h2>
  <p class="fi" style="margin:.3rem 0 .3rem;color:#999;font-size:.85rem;">25 cards. Think of the answer BEFORE clicking. Effortful recall strengthens memory.</p>
  <div class="fc-grid">

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Join Basics</div><div class="fc-q">What is a join and how does it work internally?</div><div class="fc-hint">click to flip</div></div>
      <div class="fc-bk"><div class="fc-a">A join <strong>combines rows from multiple tables</strong> by: ① forming the Cartesian product (all combinations) ② filtering with ON/WHERE to keep meaningful matches.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Join Types</div><div class="fc-q">Name all 5 main SQL join categories.</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>1.</strong> Cross Join<br><strong>2.</strong> Inner Join (Equi, Natural, Theta)<br><strong>3.</strong> Outer Join (Left, Right, Full)<br><strong>4.</strong> Self Join<br><strong>5.</strong> Semi Join</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Cross Join</div><div class="fc-q">What does a Cross Join produce? How many rows?</div></div>
      <div class="fc-bk"><div class="fc-a">Every row of table A paired with every row of table B. <strong>m × n rows</strong>. No ON clause. Also called Cartesian Join.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Inner Join</div><div class="fc-q">What does an Inner Join return?</div></div>
      <div class="fc-bk"><div class="fc-a">Only rows where a <strong>match is found in BOTH tables</strong>. Unmatched rows from either side are discarded. INNER keyword is optional.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Equi Join</div><div class="fc-q">When is an inner join called an "equi join"?</div></div>
      <div class="fc-bk"><div class="fc-a">When the join predicate uses the <strong>equality (=) operator</strong>. Most common type of inner join.<br><code style="font-size:.7rem;">ON S.sid = E.sid</code></div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Natural Join</div><div class="fc-q">How does Natural Join differ from Equi Join?</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>Natural:</strong> auto-matches on same column name & type, keeps ONE copy of common column.<br><strong>Equi:</strong> explicit ON clause, keeps BOTH copies of the join column.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Natural Join</div><div class="fc-q">Syntax for Natural Join?</div></div>
      <div class="fc-bk"><div class="fc-a"><code style="font-size:.74rem;">SELECT * FROM table1 NATURAL JOIN table2;</code><br><br>No ON clause needed — SQL automatically detects the common column.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Theta Join</div><div class="fc-q">What operators does a Theta Join use?</div></div>
      <div class="fc-bk"><div class="fc-a">Non-equality operators: <strong>&lt;, &lt;=, &gt;, &gt;=, &lt;&gt;</strong><br>Also called non-equi join.<br><code style="font-size:.7rem;">WHERE S.sid &lt;= E.sid</code></div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Left Outer</div><div class="fc-q">Which table's rows are ALL preserved in LEFT JOIN?</div></div>
      <div class="fc-bk"><div class="fc-a">The <strong>LEFT (first) table</strong>. All its rows appear even if no match in the right table. Unmatched right columns → NULL.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Right Outer</div><div class="fc-q">LEFT JOIN vs RIGHT JOIN — what's the only difference?</div></div>
      <div class="fc-bk"><div class="fc-a">Which table keeps ALL rows:<br><strong>LEFT:</strong> all from left table, NULL-fill right<br><strong>RIGHT:</strong> all from right table, NULL-fill left<br>LEFT JOIN = LEFT OUTER JOIN (same thing)</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Full Outer</div><div class="fc-q">What does FULL OUTER JOIN return?</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>All rows from both tables</strong>, whether matched or not. It's LEFT ∪ RIGHT. Unmatched rows get NULL on the missing side. Can produce very large datasets.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Self Join</div><div class="fc-q">What is a Self Join and when do you use it?</div></div>
      <div class="fc-bk"><div class="fc-a">A table joined <strong>with itself</strong> using two aliases. Used for:<br>• Employee-Manager relationships<br>• Finding rows in "same department/location"<br>• Any comparison within the same table</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Self Join</div><div class="fc-q">Syntax for employee-manager self join?</div></div>
      <div class="fc-bk"><div class="fc-a"><code style="font-size:.7rem;">SELECT e1.Name AS Employee,<br>       e2.Name AS Manager<br>FROM Employee e1 JOIN Employee e2<br>ON e1.Manager_id = e2.Emp_id;</code></div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Semi Join</div><div class="fc-q">Semi Join vs Regular Join — 2 key differences?</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>1.</strong> Semi: returns columns from <strong>only one table</strong>. Regular: columns from both.<br><strong>2.</strong> Semi: each row returned <strong>at most once</strong> (no duplicates). Regular: duplicates if multiple matches.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">NULL Rule</div><div class="fc-q">Does NULL = NULL in a join condition?</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>NO — NEVER.</strong> NULL is not equal to anything, not even another NULL. Rows with NULL in the join column are always dropped in inner joins. They only survive in outer joins.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Implicit Join</div><div class="fc-q">What is an implicit join? Is it the same as inner join?</div></div>
      <div class="fc-bk"><div class="fc-a">Comma syntax with WHERE instead of JOIN/ON:<br><code style="font-size:.7rem;">FROM S, E WHERE S.sid=E.sid</code><br>Produces <strong>same result</strong> as explicit INNER JOIN. Older style but still valid.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Exam Pattern</div><div class="fc-q">How to find students with NO enrollments using a join?</div></div>
      <div class="fc-bk"><div class="fc-a"><code style="font-size:.7rem;">SELECT S.name FROM Students S<br>LEFT JOIN Enrolled E ON S.sid=E.sid<br>WHERE E.sid IS NULL;</code><br><br>LEFT JOIN + WHERE IS NULL = "find unmatched rows"</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Cross vs Inner</div><div class="fc-q">What happens if you forget the ON clause in an inner join?</div></div>
      <div class="fc-bk"><div class="fc-a">You get a <strong>Cross Join</strong> — all possible combinations (Cartesian product). This is usually a mistake that produces way too many rows.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Outer Synonyms</div><div class="fc-q">Are LEFT JOIN and LEFT OUTER JOIN different?</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>No — they are the same.</strong><br>LEFT JOIN = LEFT OUTER JOIN<br>RIGHT JOIN = RIGHT OUTER JOIN<br>FULL JOIN = FULL OUTER JOIN<br>The OUTER keyword is optional.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Left Outer</div><div class="fc-q">In LEFT JOIN, if left table has 3 rows and only 2 match, how many output rows minimum?</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>At least 3 rows.</strong> All 3 left rows are preserved. The 2 matches get real values; the 1 unmatched row gets NULL-filled columns from the right table. (Could be more if a left row matches multiple right rows.)</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Self Join</div><div class="fc-q">"Find employees in same department" — what's the key condition?</div></div>
      <div class="fc-bk"><div class="fc-a"><code style="font-size:.7rem;">ON e1.Department = e2.Department<br>AND e1.Emp_ID &lt;&gt; e2.Emp_ID</code><br><br>Two conditions: same dept AND different employee IDs (to avoid self-pairing).</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Natural Join</div><div class="fc-q">What does Natural Join do with the common column in the result?</div></div>
      <div class="fc-bk"><div class="fc-a">Keeps <strong>only ONE copy</strong> of the common column. Inner/Equi join keeps both copies (duplicate column names in result).</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Inference</div><div class="fc-q">What does "chaining relations" through joins enable?</div></div>
      <div class="fc-bk"><div class="fc-a">It produces <strong>new relations (new facts)</strong> from existing data. E.g., joining Students(Name, Race) with Mortality(Race, Mortality) derives "Socrates is Mortal" — a fact not in either table alone.</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Full Outer</div><div class="fc-q">Full Outer Join = ?</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>Full Outer = LEFT JOIN ∪ RIGHT JOIN.</strong><br>All matched rows + all unmatched left rows (NULL on right) + all unmatched right rows (NULL on left).</div></div>
    </div></div>

    <div class="fc" onclick="this.classList.toggle('flipped')"><div class="fc-in">
      <div class="fc-fr"><div class="fc-tag">Quick Count</div><div class="fc-q">Cross Join of 5-row table × 4-row table = ?</div></div>
      <div class="fc-bk"><div class="fc-a"><strong>20 rows.</strong> Cross Join = m × n. 5 × 4 = 20. Every row paired with every other row.</div></div>
    </div></div>

  </div>
</section>

<!-- ═══════════════ QUIZ ═══════════════ -->
<section id="quiz">
  <div class="sec-label">Chapter 8 · Test Yourself</div>
  <h2 class="fi">Quiz — Joins in SQL</h2>
  <p class="fi" style="margin:.5rem 0 1.5rem;color:#999;">15 questions including output prediction and join identification. Think carefully before answering.</p>
  <div class="quiz-wrap">
    <div id="q-prog"></div>
    <div class="q-card" id="q-card">
      <div class="q-num" id="q-num"></div>
      <div class="q-text" id="q-text"></div>
      <div class="q-opts" id="q-opts"></div>
      <div class="q-exp" id="q-exp"></div>
      <div class="q-nav"><button class="btn" id="q-next" style="display:none;">Next Question →</button></div>
    </div>
    <div id="q-score">
      <div class="sc-n" id="sc-val"></div>
      <div class="sc-l">out of 15</div>
      <p style="color:#999;margin-top:.8rem;" id="sc-msg"></p>
      <button class="btn" style="margin-top:1.2rem;" onclick="initQ()">Retake Quiz</button>
    </div>
  </div>
</section>

<script>
// PROGRESS BAR
window.addEventListener('scroll',()=>{
  const d=document.documentElement;
  document.getElementById('pb').style.width=(d.scrollTop/(d.scrollHeight-d.clientHeight)*100)+'%';
});

// FADE IN
const observer=new IntersectionObserver(e=>e.forEach(x=>{if(x.isIntersecting)x.target.classList.add('v')}),{threshold:.1});
document.querySelectorAll('.fi').forEach(el=>observer.observe(el));

// TABS
function showA(id,btn){
  document.querySelectorAll('.a-panel').forEach(p=>p.classList.remove('on'));
  document.querySelectorAll('.a-tab').forEach(t=>t.classList.remove('on'));
  document.getElementById('ap-'+id).classList.add('on');
  btn.classList.add('on');
}

// REVEAL (PTO + WTQ)
function reveal(id){
  const el=document.getElementById(id);
  const rev=el.querySelector('.pto-reveal, .wtq-reveal');
  const btn=el.querySelector('.pto-btn, .wtq-btn');
  rev.classList.add('show');
  btn.textContent='Answer Revealed';
  btn.classList.add('revealed');
}

// QUIZ
const QS=[
  {q:"A Cross Join of a table with 4 rows and a table with 5 rows produces how many rows?",o:["9","20","4","5"],a:1,e:"Cross Join = Cartesian Product. Rows = m × n = 4 × 5 = 20. Every row of the first table is paired with every row of the second table."},
  {q:"Which join returns ONLY rows where a match exists in BOTH tables?",o:["Left Outer Join","Full Outer Join","Inner Join","Cross Join"],a:2,e:"Inner Join returns only rows where the join condition is satisfied in both tables. Unmatched rows from either side are discarded."},
  {q:"In a LEFT OUTER JOIN, what happens to rows in the left table that have no match in the right table?",o:["They are discarded","They appear with NULL for right-side columns","They appear with 0 for right-side columns","An error occurs"],a:1,e:"LEFT JOIN preserves ALL rows from the left table. If there's no match in the right table, the right-side columns are filled with NULL."},
  {q:"Given Students(Jones/11111, Smith/22222, Brown/33333) INNER JOIN Enrolled(11111/History105, 11111/DataScience194, 22222/French150, NULL/English10) ON S.sid=E.sid — how many rows in the result?",o:["5","4","3","6"],a:2,e:"3 rows: Jones/History105, Jones/DataScience194, Smith/French150. Brown (33333) has no match in E. English10 (NULL sid) never matches anything. Inner join discards both."},
  {q:"Does NULL = NULL in a SQL join condition?",o:["Yes, NULLs are always equal","Yes, but only in outer joins","No, NULL is never equal to anything","No, but only in cross joins"],a:2,e:"In SQL, NULL is NEVER equal to anything — not even another NULL. This is why rows with NULL in the join column are dropped in inner joins and only survive in outer joins."},
  {q:"What is the difference between Natural Join and Equi Join in the result columns?",o:["Natural keeps both copies of the common column","Equi keeps one copy, Natural keeps both","Natural keeps one copy of the common column, Equi keeps both","There is no difference in columns"],a:2,e:"Natural Join removes the duplicate common column (keeps ONE copy). Equi Join (Inner Join) keeps BOTH copies of the join column in the result."},
  {q:"Which join should you use to find students who have NOT enrolled in any class?",o:["INNER JOIN","CROSS JOIN","LEFT JOIN with WHERE IS NULL","RIGHT JOIN"],a:2,e:"LEFT JOIN preserves all students including those with no enrollment. Adding WHERE E.sid IS NULL filters to show ONLY the unmatched students. This is a very common exam pattern."},
  {q:"In a Self Join, how does SQL treat one table as two?",o:["It creates a copy of the table","It uses two different aliases for the same table","It uses a subquery","It uses UNION"],a:1,e:"Self Join uses two different aliases (e.g., e1 and e2) for the same table. This lets SQL reference 'both copies' independently in the SELECT, FROM, and ON clauses."},
  {q:"A Theta Join uses which operators?",o:["Only the = operator","<, <=, >, >=, <> (non-equality operators)","LIKE and BETWEEN","IN and NOT IN"],a:1,e:"Theta Join (also called Non-Equi Join) uses comparison operators other than equality: <, <=, >, >=, <>. When the operator is =, it's specifically called an Equi Join."},
  {q:"FULL OUTER JOIN is equivalent to:",o:["LEFT JOIN ∩ RIGHT JOIN","LEFT JOIN ∪ RIGHT JOIN","CROSS JOIN with a filter","LEFT JOIN minus RIGHT JOIN"],a:1,e:"FULL OUTER JOIN = LEFT JOIN ∪ RIGHT JOIN. It returns all matched rows plus all unmatched rows from both sides, with NULLs filling in the missing values."},
  {q:"Given the Employee table with Self Join query: SELECT e1.Name, e2.Name FROM Employee e1 JOIN Employee e2 ON e1.Manager_id = e2.Emp_id — what does e2.Name represent?",o:["The employee themselves","The employee's subordinate","The employee's manager","The employee's colleague"],a:2,e:"e1.Manager_id = e2.Emp_id means: find the employee (e2) whose Emp_id equals e1's Manager_id. So e2 is the MANAGER of e1. e1.Name = employee, e2.Name = their manager."},
  {q:"What does LEFT JOIN and LEFT OUTER JOIN have in common?",o:["Nothing, they are different","They are the exact same thing","LEFT JOIN is faster","LEFT OUTER JOIN includes NULLs, LEFT JOIN doesn't"],a:1,e:"They are the SAME. The OUTER keyword is optional. LEFT JOIN = LEFT OUTER JOIN. Similarly: RIGHT JOIN = RIGHT OUTER JOIN, FULL JOIN = FULL OUTER JOIN."},
  {q:"Semi Join returns Jones once even though Jones matches 2 enrollments. Why?",o:["Semi Join uses DISTINCT automatically","Semi Join returns each row at most once — no duplication","Semi Join only matches the first row found","Semi Join ignores duplicate keys"],a:1,e:"The defining property of Semi Join: each row from the first table is returned MAXIMUM once, even if it matches multiple rows in the second table. No row duplication can occur."},
  {q:"What happens if you write INNER JOIN without an ON clause?",o:["Syntax error in most databases","You get a Cross Join (Cartesian product)","It defaults to Natural Join","It returns an empty table"],a:0,e:"In standard SQL, INNER JOIN requires an ON clause — omitting it is a syntax error in most databases. However, using comma syntax (FROM A, B) without WHERE produces a Cross Join."},
  {q:"Given Students S LEFT OUTER JOIN Enrolled E ON S.sid=E.sid — which of the following is TRUE?",o:["Brown appears, English10 does NOT appear","English10 appears, Brown does NOT appear","Both Brown and English10 appear","Neither Brown nor English10 appear"],a:0,e:"LEFT JOIN preserves ALL left-table (Students) rows → Brown (unmatched) appears with NULL classid. English10 is in the right table (Enrolled) and has no match, so it does NOT appear in a LEFT join. English10 only appears in RIGHT or FULL join."}
];

let cur=0,score=0,answered=false;

function initQ(){
  cur=0;score=0;answered=false;
  document.getElementById('q-score').style.display='none';
  document.getElementById('q-card').style.display='block';
  renderQ();
}

function renderQ(){
  const q=QS[cur];
  document.getElementById('q-num').textContent='Question '+(cur+1)+' of '+QS.length;
  document.getElementById('q-text').textContent=q.q;
  const opts=document.getElementById('q-opts');
  opts.innerHTML='';
  q.o.forEach((o,i)=>{
    const b=document.createElement('button');
    b.className='q-opt';b.textContent=o;
    b.onclick=()=>answer(i);
    opts.appendChild(b);
  });
  document.getElementById('q-exp').className='q-exp';
  document.getElementById('q-exp').textContent='';
  document.getElementById('q-next').style.display='none';
  answered=false;
  const prog=document.getElementById('q-prog');
  prog.innerHTML='';
  QS.forEach((_,i)=>{
    const d=document.createElement('div');
    d.className='q-dot'+(i===cur?' cur':'');
    prog.appendChild(d);
  });
}

function answer(i){
  if(answered)return;
  answered=true;
  const q=QS[cur];
  const btns=document.querySelectorAll('.q-opt');
  btns.forEach(b=>b.disabled=true);
  if(i===q.a){score++;btns[i].classList.add('ok');}
  else{btns[i].classList.add('no');btns[q.a].classList.add('ok');}
  const exp=document.getElementById('q-exp');
  exp.textContent=q.e;
  exp.className='q-exp show '+(i===q.a?'ok':'no');
  document.getElementById('q-next').style.display='block';
  const dots=document.querySelectorAll('.q-dot');
  dots[cur].classList.add(i===q.a?'done':'bad');
}

document.getElementById('q-next').onclick=()=>{
  cur++;
  if(cur>=QS.length){
    document.getElementById('q-card').style.display='none';
    const sc=document.getElementById('q-score');
    sc.style.display='block';
    document.getElementById('sc-val').textContent=score;
    const p=score/QS.length;
    const msgs=['Keep studying — review the join types!','Getting there — focus on outer joins.','Decent! Revisit the tricky parts.','Good work! Almost there.','Great job! Solid understanding.','Excellent! Nearly perfect.','Perfect score! Outstanding!'];
    document.getElementById('sc-msg').textContent=msgs[Math.min(Math.floor(p*6),6)];
  } else {renderQ();}
};

initQ();
</script>
</body>
</html>
